_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[22],{"/tyc":function(e,r,t){"use strict";t.r(r);var o=t("VtSi"),a=t.n(o),n=t("QsI/"),i=t("ERkP"),c=t.n(i),d=t("3pNR"),l=t("a5ey"),s=t("Wcu4"),b=t("cdSq"),u=t("naHB"),p=t("nd+9"),m=t("CzDk"),O=t("mmHu"),h=t("jsCw"),f=t("2aAZ"),g=t("dfZ1"),j=t("L7b9"),y=t("uhRb"),v=t("ucHa"),C=t("yr4J"),k=t("Dp36"),w=t("l1C2"),x=(c.a.createElement,function(e){var r=e.isOpen,t=e.onClose,o=e.onSave,c=Object(i.useRef)(null),d=Object(f.a)(),l=Object(i.useCallback)(function(){var e=Object(n.a)(a.a.mark((function e(r,n){var i,l,s,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null===(i=c.current)||void 0===i||i.setErrors({}),l=j.d().shape({name:j.f().required("Nome obrigat\xf3rio"),email:j.f().email().required("E-mail obrigat\xf3ria"),telephone:j.f().required("Telefone obrigat\xf3rio"),gender:j.f().required("G\xeanero obrigat\xf3rio"),cpf:j.f().length(11,"Cpf deve ter somente 11 d\xedgitos").required("Cpf obrigat\xf3rio"),birth_date:j.b().required("Data de nascimento obrigat\xf3ria")}),e.next=5,l.validate(r,{abortEarly:!1});case 5:return e.next=7,k.a.post("customers",r);case 7:d({status:"success",title:"Cliente registrado com sucesso!",position:"top",duration:3e3}),t(n),o(),e.next=19;break;case 12:if(e.prev=12,e.t0=e.catch(0),!(e.t0 instanceof j.a)){e.next=18;break}return b=Object(C.a)(e.t0),null===(s=c.current)||void 0===s||s.setErrors(b),e.abrupt("return");case 18:d({status:"error",title:"Erro no registro do cliente",description:"Ocorreu um erro ao tentar registrar o cliente, tente novamente.",position:"top",duration:5e3});case 19:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(r,t){return e.apply(this,arguments)}}(),[]);return Object(w.d)(g.a,{isOpen:r,onClose:t},Object(w.d)(g.g,null),Object(w.d)(g.d,{borderRadius:"md"},Object(w.d)(g.f,null,"Registrar cliente"),Object(w.d)(g.c,null),Object(w.d)(p.a,{ref:c,onSubmit:l},Object(w.d)(g.b,{paddingBottom:4},Object(w.d)(h.a,{name:"name",placeholder:"Nome",containerProps:{border:"1px solid",borderColor:"gray.400",bg:"white"}}),Object(w.d)(y.a,{name:"birth_date",placeholderText:"Data de nascimento",containerProps:{marginTop:3,color:"black"}}),Object(w.d)(h.a,{name:"email",placeholder:"E-mail",containerProps:{border:"1px solid",borderColor:"gray.400",bg:"white",marginTop:3}}),Object(w.d)(h.a,{name:"telephone",placeholder:"Telefone",containerProps:{border:"1px solid",borderColor:"gray.400",bg:"white",marginTop:3}}),Object(w.d)(h.a,{name:"cpf",placeholder:"CPF",containerProps:{border:"1px solid",borderColor:"gray.400",bg:"white",marginTop:3}}),Object(w.d)(v.a,{name:"gender",bg:"white",containerProps:{border:"1px solid",borderColor:"gray.400",bg:"white",marginTop:3}},Object(w.d)("option",{value:"Masculino"},"Masculino"),Object(w.d)("option",{value:"Feminino"},"Feminino"))),Object(w.d)(g.e,null,Object(w.d)(b.a,{variant:"ghost",onClick:t,marginRight:4},"Cancelar"),Object(w.d)(b.a,{type:"submit",variantColor:"green"},"Confirmar")))))}),_=t("97Jx"),P=t.n(_),E=t("LdEA"),S=t.n(E),D=t("EO+0"),T=t("KE60"),A=t("KEM+"),R=t.n(A),q=t("LJ7e"),F=t("OBVT"),H=t("LSDj");function B(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}var N=Object(q.a)(D.a)((function(e){var r,t=e.type,o=void 0===t?"checkbox":t,a=e._hover,n=e._invalid,i=e._disabled,c=e._focus,d=e._checked,l=e._child,s=void 0===l?{opacity:0}:l,b=e._checkedAndChild,u=void 0===b?{opacity:1}:b,p=e._checkedAndDisabled,m=e._checkedAndFocus,O=e._checkedAndHover,h="input[type="+o+"]:checked:disabled + &, input[type="+o+"][aria-checked=mixed]:disabled + &",f="input[type="+o+"]:checked:hover:not(:disabled) + &, input[type="+o+"][aria-checked=mixed]:hover:not(:disabled) + &",g="input[type="+o+"]:checked:focus + &, input[type="+o+"][aria-checked=mixed]:focus + &",j="input[type="+o+"]:disabled + &",y="input[type="+o+"]:focus + &",v="input[type="+o+"]:hover:not(:disabled):not(:checked) + &",C="input[type="+o+"]:checked + &, input[type="+o+"][aria-checked=mixed] + &",k="input[type="+o+"][aria-invalid=true] + &";return Object(F.a)(((r={})[y]=Object(H.b)(c),r[v]=Object(H.b)(a),r[j]=Object(H.b)(i),r[k]=Object(H.b)(n),r[h]=Object(H.b)(p),r[g]=Object(H.b)(m),r[f]=Object(H.b)(O),r["& > *"]=Object(H.b)(s),r[C]=function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?B(t,!0).forEach((function(r){R()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):B(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},Object(H.b)(d),{"& > *":Object(H.b)(u)}),r))}));N.displayName="ControlBox",N.defaultProps={display:"inline-flex",alignItems:"center",justifyContent:"center",transition:"all 120ms",flexShrink:"0","aria-hidden":"true"};var z=N,W=t("AL62"),M=t("bg0x"),I=t("kVD0");function L(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}var J={userSelect:"none",border:"2px",rounded:"md",borderColor:"inherit",transition:"background-color 120ms, box-shadow 250ms"},V=function(e){var r={lg:5,md:4,sm:"radio"===e.type?3:"auto"};return function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?L(t,!0).forEach((function(r){R()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},J,{},e.size&&{rounded:"sm"},{},function(e){var r=e.color,t="dark"===e.colorMode,o=t?200:500;return{color:"white",_checked:{bg:Object(I.c)(r,o),borderColor:Object(I.c)(r,o),color:t?"gray.900":void 0},_checkedAndDisabled:{borderColor:t?"transparent":"gray.200",bg:t?"whiteAlpha.300":"gray.200",color:t?"whiteAlpha.500":"gray.500"},_disabled:{bg:t?"whiteAlpha.100":"gray.100",borderColor:t?"transparent":"gray.100"},_focus:{boxShadow:"outline"},_invalid:{borderColor:t?"red.300":"red.500"}}}(e),{size:r[e.size]})},G=t("TF04"),K=Object(i.forwardRef)((function(e,r){var t=e.id,o=e.name,a=e.value,n=e["aria-label"],c=e["aria-labelledby"],d=e.variantColor,l=void 0===d?"blue":d,s=e.defaultIsChecked,b=e.isChecked,u=e.isFullWidth,p=e.size,m=void 0===p?"md":p,O=e.isDisabled,h=e.isInvalid,f=e.isReadOnly,g=e.onChange,j=e.onBlur,y=e.onFocus,v=e.isIndeterminate,C=e.children,k=e.iconColor,x=e.iconSize,_=void 0===x?"10px":x,E=S()(e,["id","name","value","aria-label","aria-labelledby","variantColor","defaultIsChecked","isChecked","isFullWidth","size","isDisabled","isInvalid","isReadOnly","onChange","onBlur","onFocus","isIndeterminate","children","iconColor","iconSize"]);Object(G.f)("Checkbox",l);var A=Object(T.b)().colorMode,R=V({color:l,size:m,colorMode:A}),q=Object(i.useRef)(),F=Object(G.e)(q,r);return Object(i.useEffect)((function(){F.current&&(F.current.indeterminate=Boolean(v))}),[v,F]),Object(w.d)(D.a,P()({as:"label",display:"inline-flex",verticalAlign:"top",alignItems:"center",width:u?"full":void 0,cursor:O?"not-allowed":"pointer"},E),Object(w.d)(M.a,{as:"input",type:"checkbox","aria-label":n,"aria-labelledby":c,id:t,ref:F,name:o,value:a,onChange:f?void 0:g,onBlur:j,onFocus:y,defaultChecked:f?void 0:s,checked:f?Boolean(b):s?void 0:b,disabled:O,readOnly:f,"aria-readonly":f,"aria-invalid":h,"aria-checked":v?"mixed":b}),Object(w.d)(z,P()({opacity:f?.8:1},R),Object(w.d)(W.a,{name:v?"minus":"check",size:_,color:k,transition:"transform 240ms, opacity 240ms"})),C&&Object(w.d)(D.a,{ml:2,fontSize:m,userSelect:"none",opacity:O?.4:1},C))}));K.displayName="Checkbox";var X=K,Z=t("kpsp"),Q=(c.a.createElement,function(e){var r=e.isOpen,t=e.onClose,o=e.onSave,c=Object(i.useRef)(null),d=Object(Z.b)().user,l=Object(f.a)(),s=Object(i.useState)(null),u=s[0],m=s[1],O=Object(i.useState)(!1),y=O[0],v=O[1];Object(i.useEffect)((function(){m(d.role)}),[]);var x=Object(i.useCallback)(function(){var e=Object(n.a)(a.a.mark((function e(r,n){var i,d,s,b,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null===(i=c.current)||void 0===i||i.setErrors({}),d=j.d().shape({name:j.f().required("Nome obrigat\xf3rio"),email:j.f().email().required("E-mail obrigat\xf3ria"),password:j.f().required("Senha obrigat\xf3rio"),passwordConfirmation:j.f().oneOf([j.e("password"),null],"As senhas devem ser iguais")}),e.next=5,d.validate(r,{abortEarly:!1});case 5:return s=y?{name:r.name,role:"administrador",email:r.email,password:r.password}:{name:r.name,role:"funcionario",email:r.email,password:r.password},e.next=8,k.a.post("employees",s);case 8:l({status:"success",title:"Funcion\xe1rio registrado com sucesso!",position:"top",duration:3e3}),t(n),o(),e.next=20;break;case 13:if(e.prev=13,e.t0=e.catch(0),!(e.t0 instanceof j.a)){e.next=19;break}return u=Object(C.a)(e.t0),null===(b=c.current)||void 0===b||b.setErrors(u),e.abrupt("return");case 19:l({status:"error",title:"Erro no registro do funcion\xe1rio",description:"Ocorreu um erro ao tentar registrar o funcion\xe1rio, tente novamente.",position:"top",duration:5e3});case 20:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(r,t){return e.apply(this,arguments)}}(),[y]);return Object(w.d)(g.a,{isOpen:r,onClose:t},Object(w.d)(g.g,null),Object(w.d)(g.d,{borderRadius:"md"},Object(w.d)(g.f,null,"Registrar funcion\xe1rio"),Object(w.d)(g.c,null),Object(w.d)(p.a,{ref:c,onSubmit:x},Object(w.d)(g.b,{paddingBottom:4},Object(w.d)(h.a,{name:"name",placeholder:"Nome",containerProps:{border:"1px solid",borderColor:"gray.400",bg:"white"}}),Object(w.d)(h.a,{name:"email",placeholder:"E-mail",containerProps:{border:"1px solid",borderColor:"gray.400",bg:"white",marginTop:3}}),Object(w.d)(h.a,{name:"password",type:"password",placeholder:"Senha",containerProps:{border:"1px solid",borderColor:"gray.400",bg:"white",marginTop:3}}),Object(w.d)(h.a,{name:"passwordConfirmation",type:"password",placeholder:"Confirme a senha do funcion\xe1rio",containerProps:{border:"1px solid",borderColor:"gray.400",bg:"white",marginTop:3}})),Object(w.d)(g.e,null,Object(w.d)(X,{color:"green",hidden:"administrador"!==u,isChecked:y,onChange:function(e){v(e.target.checked)}},"Administrador"),Object(w.d)(b.a,{variant:"ghost",onClick:t,marginRight:4},"Cancelar"),Object(w.d)(b.a,{type:"submit",variantColor:"green"},"Confirmar")))))}),U=t("6o60"),Y=t("BN90"),$=t("JAlk"),ee=(c.a.createElement,[{Header:"nome",accessor:"name"},{Header:"E-mail",accessor:"email"},{Header:"Telefone",accessor:"telephone"},{Header:"G\xeanero",accessor:"gender"},{Header:"CPF",accessor:"cpf"},{Header:"Data de nascimento",accessor:"birth_date_formatted"}]),re=[{Header:"nome",accessor:"name"},{Header:"E-mail",accessor:"email"}];r.default=function(){var e=Object(i.useRef)(null),r=Object(l.a)(),t=r.isOpen,o=r.onOpen,f=r.onClose,g=Object(l.a)(),j=g.isOpen,y=g.onOpen,v=g.onClose,C=Object(i.useState)("customer"),_=C[0],P=C[1],E=Object(i.useState)([]),S=E[0],D=E[1],T=Object(i.useState)([]),A=T[0],R=T[1],q=Object(i.useCallback)((function(){k.a.get("customers").then((function(e){var r=e.data,t=[];r.forEach((function(e){var r=Object(m.default)(new Date(e.birth_date),"dd'/'MM'/'yyyy'",{locale:O.a});t.push({name:e.name,cpf:e.cpf,email:e.email,gender:e.gender,telephone:e.telephone,birth_date_formatted:r})})),D(t)})),k.a.get("employees").then((function(e){var r=e.data;R(r)}))}),[]);Object(i.useEffect)((function(){q()}),[q]);var F=Object(i.useCallback)((function(){P("employee")}),[P]),H=Object(i.useCallback)((function(){P("customer")}),[P]),B=Object(i.useCallback)(function(){var e=Object(n.a)(a.a.mark((function e(r){var t,o,n,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.customers_search){e.next=10;break}return e.next=3,k.a.get("customers?name=".concat(r.customers_search));case 3:t=e.sent,o=t.data,n=[],o.forEach((function(e){var r=Object(m.default)(new Date(e.birth_date),"dd'/'MM'/'yyyy'",{locale:O.a});n.push({name:e.name,cpf:e.cpf,email:e.email,gender:e.gender,telephone:e.telephone,birth_date_formatted:r})})),D(n),e.next=16;break;case 10:if(r.employees_search){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,k.a.get("employees?name=".concat(r.employees_search));case 14:i=e.sent,R(i.data);case 16:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[]),N=Object(i.useCallback)((function(){o()}),[]),z=Object(i.useCallback)((function(){y()}),[]);return Object(w.d)(c.a.Fragment,null,Object(w.d)(U.a,{title:"Endor",image:"og/boost.png",shouldExcludeTitleSuffix:!0,description:"Fazer o registro e pesquisa de usu\xe1rios na plataforma"}),Object(w.d)(s.a,{as:"main",height:"100vh",position:"relative",backgroundColor:"gray.800",width:"100vw"},Object(w.d)(Y.a,null),Object(w.d)(s.a,{paddingRight:8,paddingTop:15,width:"calc(100vw - 310px)",bg:"gray.800",direction:"column"},Object(w.d)(s.a,{justifyContent:"space-between",width:"100%",color:"gray.200"},Object(w.d)(b.a,{width:"49.8%",backgroundColor:"gray.800",borderRadius:0,borderBottom:"2px solid ",borderColor:"customer"===_?"green.200":"gray.500",color:"customer"===_?"green.200":"White",_hover:{bg:"gray.800",color:"White"},_focusWithin:{bg:"gray.800",color:"White"},onClick:H},"Clientes"),Object(w.d)(b.a,{width:"49.8%",backgroundColor:"gray.800",borderRadius:0,borderBottom:"2px solid",borderColor:"employee"===_?"green.200":"gray.500",color:"employee"===_?"green.200":"White",_hover:{bg:"gray.800",color:"White"},_focusWithin:{border:"0px ",bg:"gray.800",color:"White"},onClick:F},"Funcion\xe1rios")),Object(w.d)(s.a,{flexDirection:"column",marginTop:6},Object(w.d)(p.a,{ref:e,onSubmit:B},"customer"===_?Object(w.d)(c.a.Fragment,null,Object(w.d)(s.a,null,Object(w.d)(h.a,{placeholder:"Pesquisar clientes por nome",name:"customers_search",containerProps:{width:300,height:40.5}}),Object(w.d)(u.a,{label:"Pesquisar clientes por nome.","aria-label":"Pesquisar clientes por nome."},Object(w.d)(b.a,{marginLeft:4,type:"submit"},Object(w.d)(d.o,null))),Object(w.d)(u.a,{label:"Adicionar novo cliente.","aria-label":"Adicionar novo cliente."},Object(w.d)(b.a,{marginLeft:4,onClick:N},Object(w.d)(d.r,null)))),Object(w.d)(x,{onSave:q,isOpen:t,onClose:f}),Object(w.d)(s.a,{marginTop:6,maxHeight:{sm:300,md:400,lg:500,xl:600}},Object(w.d)($.a,{columns:ee,data:S}))):Object(w.d)(c.a.Fragment,null,Object(w.d)(s.a,null,Object(w.d)(h.a,{placeholder:"Pesquisar funcion\xe1rios por nome",name:"employees_search",containerProps:{width:300,height:40.5}}),Object(w.d)(u.a,{label:"Pesquisar funcion\xe1rios por nome.","aria-label":"Pesquisar funcion\xe1rios por nome."},Object(w.d)(b.a,{marginLeft:4,type:"submit",onClick:B},Object(w.d)(d.o,null))),Object(w.d)(u.a,{label:"Adicionar novo funcion\xe1rio.","aria-label":"Adicionar novo funcion\xe1rio."},Object(w.d)(b.a,{marginLeft:4,onClick:z},Object(w.d)(d.r,null)))),Object(w.d)(Q,{onSave:q,isOpen:j,onClose:v}),Object(w.d)(s.a,{marginTop:6,maxHeight:{sm:300,md:400,lg:500,xl:600}},Object(w.d)($.a,{columns:re,data:A}))))))))}},"g+1c":function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register/users",function(){return t("/tyc")}])}},[["g+1c",0,1,2,3,4,5,6,7,8,9,10,11]]]);