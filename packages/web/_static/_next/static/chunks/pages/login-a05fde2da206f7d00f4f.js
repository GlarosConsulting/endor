_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[19],{KeDb:function(e,t,r){"use strict";var n=r("x3oR"),o=r("pONU");t.__esModule=!0,t.default=void 0;var a,i=o(r("ERkP")),c=r("L9lV"),u=r("7xIC"),s=new Map,l=window.IntersectionObserver,f={};var d=function(e,t){var r=a||(l?a=new l((function(e){e.forEach((function(e){if(s.has(e.target)){var t=s.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(a.unobserve(e.target),s.delete(e.target),t())}}))}),{rootMargin:"200px"}):void 0);return r?(r.observe(e),s.set(e,t),function(){try{r.unobserve(e)}catch(t){console.error(t)}s.delete(e)}):function(){}};function p(e,t,r,n){(0,c.isLocalURL)(t)&&(e.prefetch(t,r,n).catch((function(e){0})),f[t+"%"+r]=!0)}var b=function(e){var t=!1!==e.prefetch,r=i.default.useState(),o=n(r,2),a=o[0],s=o[1],b=(0,u.useRouter)(),g=b&&b.pathname||"/",v=i.default.useMemo((function(){var t=(0,c.resolveHref)(g,e.href);return{href:t,as:e.as?(0,c.resolveHref)(g,e.as):t}}),[g,e.href,e.as]),h=v.href,O=v.as;i.default.useEffect((function(){if(t&&l&&a&&a.tagName&&(0,c.isLocalURL)(h)&&!f[h+"%"+O])return d(a,(function(){p(b,h,O)}))}),[t,a,h,O,b]);var j=e.children,m=e.replace,y=e.shallow,x=e.scroll;"string"===typeof j&&(j=i.default.createElement("a",null,j));var w=i.Children.only(j),E={ref:function(e){e&&s(e),w&&"object"===typeof w&&w.ref&&("function"===typeof w.ref?w.ref(e):"object"===typeof w.ref&&(w.ref.current=e))},onClick:function(e){w.props&&"function"===typeof w.props.onClick&&w.props.onClick(e),e.defaultPrevented||function(e,t,r,n,o,a,i){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,c.isLocalURL)(r))&&(e.preventDefault(),null==i&&(i=n.indexOf("#")<0),t[o?"replace":"push"](r,n,{shallow:a}).then((function(e){e&&i&&(window.scrollTo(0,0),document.body.focus())})))}(e,b,h,O,m,y,x)}};return t&&(E.onMouseEnter=function(e){(0,c.isLocalURL)(h)&&(w.props&&"function"===typeof w.props.onMouseEnter&&w.props.onMouseEnter(e),p(b,h,O,{priority:!0}))}),(e.passHref||"a"===w.type&&!("href"in w.props))&&(E.href=(0,c.addBasePath)(O)),i.default.cloneElement(w,E)};t.default=b},jRni:function(e,t,r){"use strict";r.r(t);var n=r("VtSi"),o=r.n(n),a=r("QsI/"),i=r("jvFD"),c=r.n(i),u=r("7xIC"),s=r("ERkP"),l=r.n(s),f=r("3pNR"),d=r("2aAZ"),p=r("Wcu4"),b=r("xLrN"),g=r("cdSq"),v=r("97Jx"),h=r.n(v),O=r("LdEA"),j=r.n(O),m=r("l1C2"),y=r("dgVT"),x={transition:"all 0.15s ease-out",cursor:"pointer",textDecoration:"none",outline:"none",_focus:{boxShadow:"outline"},_disabled:{opacity:"0.4",cursor:"not-allowed",textDecoration:"none"}},w=Object(s.forwardRef)((function(e,t){var r=e.isDisabled,n=e.isExternal,o=e.onClick,a=j()(e,["isDisabled","isExternal","onClick"]),i=n?{target:"_blank",rel:"noopener noreferrer"}:null;return Object(m.d)(y.a,h()({as:"a",ref:t,tabIndex:r?-1:void 0,"aria-disabled":r,onClick:r?function(e){return e.preventDefault()}:o,_hover:{textDecoration:"underline"}},i,x,a))}));w.displayName="Link";var E=w,k=r("nd+9"),C=r("L7b9"),R=r("jsCw"),P=r("6o60"),_=r("kpsp"),S=r("yr4J");l.a.createElement,t.default=function(){var e=Object(s.useRef)(null),t=Object(u.useRouter)(),r=Object(d.a)(),n=Object(_.b)().logIn,i=Object(s.useCallback)(function(){var i=Object(a.a)(o.a.mark((function a(i){var c,u,s,l;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,null===(c=e.current)||void 0===c||c.setErrors({}),u=C.d().shape({email:C.f().email().required("E-mail obrigat\xf3rio"),password:C.f().required("Senha obrigat\xf3ria")}),o.next=5,u.validate(i,{abortEarly:!1});case 5:return o.next=7,n(i);case 7:r({status:"success",title:"Autenticado com sucesso",description:"Voc\xea est\xe1 sendo redirecionado para a p\xe1gina inicial.",position:"top",duration:3e3}),t.replace("/register/cemeteries"),o.next=18;break;case 11:if(o.prev=11,o.t0=o.catch(0),!(o.t0 instanceof C.a)){o.next=17;break}return l=Object(S.a)(o.t0),null===(s=e.current)||void 0===s||s.setErrors(l),o.abrupt("return");case 17:r({status:"error",title:"Erro na autentica\xe7\xe3o",description:"Ocorreu um erro ao fazer login, cheque as credenciais.",position:"top",duration:5e3});case 18:case"end":return o.stop()}}),a,null,[[0,11]])})));return function(e){return i.apply(this,arguments)}}(),[]);return Object(m.d)(l.a.Fragment,null,Object(m.d)(P.a,{title:"Login",image:"og/boost.png",shouldExcludeTitleSuffix:!0,description:"Fazer login na plataforma"}),Object(m.d)(p.a,{as:"main",height:"100vh",justifyContent:"center",alignItems:"center",paddingX:6,backgroundColor:"gray.900"},Object(m.d)(p.a,{backgroundColor:"gray.800",borderRadius:"md",flexDirection:"column",alignItems:"stretch",padding:16,boxShadow:"xl"},Object(m.d)(k.a,{ref:e,onSubmit:i},Object(m.d)(b.a,{color:"gray.200",marginBottom:6},"Login"),Object(m.d)(R.a,{name:"email",icon:f.l,placeholder:"E-mail"}),Object(m.d)(R.a,{name:"password",icon:f.k,type:"password",placeholder:"Senha",containerProps:{marginTop:3}}),Object(m.d)(g.a,{type:"submit",bg:"gray.400",color:"gray.800",_hover:{bg:"gray.500",color:"gray.900"},_focusWithin:{bg:"gray.500",color:"gray.900"},width:"100%",marginY:4,paddingY:6},"Entrar"),Object(m.d)(c.a,{href:"forgot-password"},Object(m.d)(E,{color:"gray.500"},"Esqueci minha senha"))))))}},jsCw:function(e,t,r){"use strict";var n=r("cxan"),o=r("HbGN"),a=r("ERkP"),i=r.n(a),c=r("PbkR"),u=r("tORT"),s=r("Iy7w"),l=r("EO+0"),f=r("l1C2"),d=r("lN5B");var p={name:"qtmj6o",styles:"box-shadow:var(--errored-box-shadow);"},b={name:"iq98j",styles:"box-shadow:var(--focused-box-shadow);color:var(--text-color-focused) !important;"},g={name:"gptyu3",styles:"color:var(--text-color-focused) !important;"},v=Object(s.a)(l.a,{target:"e1soi36j0"})("--base-color:",(function(e){return e.theme.colors.gray[500]}),";--text-color-focused:",(function(e){return e.theme.colors.gray[600]}),";--focused-box-shadow:0 0 0 3px ",(function(e){return Object(d.a)(.4,e.theme.colors.gray[600])}),";--errored-box-shadow:0 0 0 3px ",(function(e){return Object(d.a)(.4,e.theme.colors.red[500])}),";color:var(--base-color);cursor:text;display:flex;align-items:center;transition:box-shadow 0.2s;",(function(e){return e.isErrored&&p})," ",(function(e){return e.isFocused&&b})," ",(function(e){return e.isFilled&&g})," svg{margin-right:16px;}input{flex:1;height:100%;background:transparent;border:0;color:var(--text-color-focused);&::placeholder{color:var(--base-color);}}");i.a.createElement,t.a=function(e){var t=e.name,r=e.containerProps,i=void 0===r?{}:r,s=e.icon,l=Object(o.a)(e,["name","containerProps","icon"]),d=Object(a.useRef)(null),p=Object(a.useState)(!1),b=p[0],g=p[1],h=Object(a.useState)(!1),O=h[0],j=h[1],m=Object(u.c)(t),y=m.fieldName,x=m.defaultValue,w=m.error,E=m.registerField,k=Object(a.useCallback)((function(){g(!0)}),[]),C=Object(a.useCallback)((function(){var e;g(!1),j(!!(null===(e=d.current)||void 0===e?void 0:e.value))}),[]);return Object(a.useEffect)((function(){E({name:y,ref:d.current,path:"value"})}),[y,E]),Object(f.d)(v,Object(n.a)({isFocused:b,isFilled:O,isErrored:!!w,bg:"gray.100",width:"100%",height:12,borderRadius:"md",paddingLeft:4},i,{onClick:function(){d.current.focus()}}),s&&Object(f.d)(s,{size:15}),Object(f.d)(c.a,Object(n.a)({ref:d,defaultValue:x,focusBorderColor:null,paddingLeft:0,onFocus:k,onBlur:C},l)))}},jvFD:function(e,t,r){e.exports=r("KeDb")},kpsp:function(e,t,r){"use strict";r.d(t,"a",(function(){return j})),r.d(t,"b",(function(){return m}));var n=r("zjfJ"),o=r("VtSi"),a=r.n(o),i=r("QsI/");var c=r("HO86");function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(u){o=!0,a=u}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}}(e,t)||Object(c.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=r("7xIC"),l=r("ERkP"),f=r.n(l),d=r("I2ps"),p=function(e,t){var r=Object(l.useState)((function(){var r=d.a.get(e);return r||t})),n=r[0],o=r[1];return Object(l.useEffect)((function(){d.a.set(e,JSON.stringify(n))}),[e,n]),[n,o]},b=r("Dp36"),g=r("l1C2");f.a.createElement;function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=Object(l.createContext)({}),j=function(e){var t=e.children,r=u(p("session",null),2),n=r[0],o=r[1],c=Object(s.useRouter)(),f=Object(l.useCallback)((function(){return!!(null===n||void 0===n?void 0:n.access_token)}),[n]),d=Object(l.useCallback)(function(){var e=Object(i.a)(a.a.mark((function e(t){var r,n,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,n=t.password,e.next=3,b.a.post("/sessions",{email:r,password:n});case 3:i=e.sent,o(i.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o]),v=Object(l.useCallback)((function(){o(null),c.replace("/login")}),[o]);return Object(l.useEffect)((function(){var e=c.asPath,t=function(t){return e.split("?")[0]===t};f()?t("/")||t("/login")||t("/app")?c.replace("/register/cemeteries"):b.a.get("profile").then((function(e){o(h(h({},n),{},{user:e.data}))})):t("/login")||t("/live")||c.replace("/login")}),[c]),Object(g.d)(O.Provider,{value:{user:null===n||void 0===n?void 0:n.user,isLoggedIn:f,logIn:d,logOut:v}},t)};function m(){var e=Object(l.useContext)(O);if(!e)throw new Error("'useAuthentication' must be used within an 'AuthenticationProvider'");return e}},xLrN:function(e,t,r){"use strict";var n=r("97Jx"),o=r.n(n),a=r("LdEA"),i=r.n(a),c=r("l1C2"),u=r("EO+0"),s=r("ERkP"),l={"2xl":["4xl",null,"5xl"],xl:["3xl",null,"4xl"],lg:["xl",null,"2xl"],md:"xl",sm:"md",xs:"sm"},f=Object(s.forwardRef)((function(e,t){var r=e.size,n=void 0===r?"xl":r,a=i()(e,["size"]);return Object(c.d)(u.a,o()({ref:t,as:"h2",fontSize:l[n],lineHeight:"shorter",fontWeight:"bold",fontFamily:"heading"},a))}));f.displayName="Heading",t.a=f},yI1a:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r("jRni")}])}},[["yI1a",0,1,2,3,4,5]]]);